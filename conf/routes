# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# The home page
GET      /                                     controllers.MainController.index(path = "")

# Authentication
GET      /login                                controllers.MainController.login
GET      /forgotpassword                       controllers.MainController.forgotPassword
POST     /login                                controllers.MainController.authenticate
GET      /logout                               controllers.MainController.logout

# Misc

GET      /contact                              controllers.MainController.contact
POST     /contact                              controllers.MainController.sendMessage
GET      /policy                               controllers.MainController.policy
GET      /tos                                  controllers.MainController.tos

# Admins
GET      /admin                                controllers.AdminController.current
PUT      /admin                                controllers.AdminController.saveCurrent

GET      /admins                               controllers.AdminController.admins
GET      /json/admins                          controllers.AdminController.adminList(page: Int ?= 0, perPage: Int ?= 1000)
POST     /admins                               controllers.AdminController.addAdmin
DELETE   /admins/:admin                        controllers.AdminController.deleteAdmin(admin: Long)

GET      /admins/:admin                        controllers.AdminController.admin(admin: Long)
PUT      /admins/:admin                        controllers.AdminController.saveAdmin(admin: Long)

GET      /data/dashboard                       controllers.PublisherController.dashboard
GET      /data/stats/:publisher                controllers.PublisherController.stats(publisher: Long)

GET      /data/graph/:from/:to/:state/:query   controllers.CampaignController.dashboard(from: String, to: String, state: String, query: String)

#POST     /admins/publishers   controllers.AdminController.addPublisher()
#DELETE   /admins/publishers   controllers.AdminController.removePublisher(group: Long)

#DELETE   /admins/:admin       controllers.AdminController.delete(project: Long)
#PUT      /admins/:admin       controllers.AdminController.rename(project: Long)                      

# Publishers
GET      /campaigns                            controllers.CampaignController.campaigns
GET      /json/campaigns/:state/:query         controllers.CampaignController.campaignList(state: String, query: String, page: Int ?= 0, perPage: Int ?= 1000)

# Publishers
GET      /publishers                           controllers.PublisherController.publishers
GET      /json/publishers                      controllers.PublisherController.publisherList(page: Int ?= 0, perPage: Int ?= 1000)

# Audiences
GET      /audiences                            controllers.AudienceController.audiences
GET      /json/audiences                       controllers.AudienceController.audienceList(page: Int ?= 0, perPage: Int ?= 10)

# Dashboard
GET      /dashboard                            controllers.MainController.dashboard

GET      /require.js                           controllers.WebJarAssets.requirejs
GET      /routes.js                            controllers.MainController.javascriptRoutes
GET      /webjars/*file                        controllers.WebJarAssets.at(file)
GET      /assets/*file                         controllers.Assets.at(path="/public", file)

# Every other page
GET      /*path                                controllers.MainController.index(path)
