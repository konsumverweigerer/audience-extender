# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# The home page
GET      /                               controllers.MainController.base

# Authentication
GET      /login                          controllers.MainController.login
GET      /forgotpassword                 controllers.MainController.forgotPassword
POST     /login                          controllers.MainController.authenticate
GET      /logout                         controllers.MainController.logout

# Misc

GET      /contact                        controllers.MainController.contact
POST     /contact                        controllers.MainController.sendMessage
GET      /policy                         controllers.MainController.policy
GET      /tos                            controllers.MainController.tos

# Admins
GET      /admin                          controllers.AdminController.current
PUT      /admin                          controllers.AdminController.saveCurrent

PUT      /changePublisher                controllers.AdminController.changePublisher(publisherid)

GET      /admins                         controllers.AdminController.admins
GET      /json/admins                    controllers.AdminController.adminList(page: Int ?= 0, perPage: Int ?= 1000)
POST     /admins                         controllers.AdminController.addAdmin
DELETE   /admins/:admin                  controllers.AdminController.deleteAdmin(admin: Long)

GET      /admins/:admin                  controllers.AdminController.admin(admin: Long)
PUT      /admins/:admin                  controllers.AdminController.saveAdmin(admin: Long)

GET      /data/dashboard                 controllers.PublisherController.dashboard
GET      /data/stats/:publisher          controllers.PublisherController.stats(publisher: Long)

GET      /data/graph/:from/:to           controllers.CampaignController.dashboard(from: String, to: String, state: String ?= "", query: String ?= "")

#POST     /admins/publishers   controllers.AdminController.addPublisher()
#DELETE   /admins/publishers   controllers.AdminController.removePublisher(group: Long)

#DELETE   /admins/:admin       controllers.AdminController.delete(project: Long)
#PUT      /admins/:admin       controllers.AdminController.rename(project: Long)                      

# Content
GET      /code/:c/:s                     controllers.ContentController.cookie(c: String,s: String)
GET      /obj/:c                         controllers.ContentController.creative(c: String)

# Publishers
GET      /campaigns                      controllers.CampaignController.campaigns
GET      /json/campaigns/:state/:query   controllers.CampaignController.campaignList(state: String, query: String, page: Int ?= 0, perPage: Int ?= 1000)

# Publishers
GET      /publishers                     controllers.PublisherController.publishers
GET      /json/publishers                controllers.PublisherController.publisherList(page: Int ?= 0, perPage: Int ?= 1000)
POST     /uploadcreative/:pid            controllers.PublisherController.uploadCreative(pid: String)

# Audiences
GET      /audiences                      controllers.AudienceController.audiences
GET      /json/audiences                 controllers.AudienceController.audienceList(page: Int ?= 0, perPage: Int ?= 10)

# Dashboard
GET      /dashboard                      controllers.MainController.dashboard
GET      /dashboard/:t                   controllers.MainController.dashboardSelect(t: String)

GET      /require.js                     controllers.WebJarAssets.requirejs
GET      /routes.js                      controllers.MainController.javascriptRoutes
GET      /webjars/*file                  controllers.MainController.minProdWebJarAssetsAt(file)
## workaround js-min path probs
#GET      /assets/javascripts-min/*file   controllers.MainController.minAssetsAt(path="/public/javascripts/", file)
#GET      /assets/javascripts/*file       controllers.MainController.minProdAssetsAt(path="/public/javascripts/", file)
#GET      /assets/stylesheets/*file       controllers.MainController.minProdAssetsAt(path="/public/stylesheets", file)

GET      /assets/*file                   controllers.Assets.at(path="/public", file)

# Every other page
GET      /*path                          controllers.MainController.index(path)
